#! /bin/bash
time_stamp=$[$(date +%s%N)/1000000] #签到时间戳的随机值
long_tude=$[RANDOM*10000000+RANDOM] #签到地址经度随机值
lati_tude=$[RANDOM*10000000+RANDOM] #签到地址维度随机值
arr[0]='东海街道南威科技园海丝国际中心' #签到地址
arr[1]='东海街道丰海路1002号海丝国际中心' #签到地址
arr[2]='大兴街1000号靠近南威软件大厦' #签到地址
rand=$[$RANDOM % ${#arr[@]}] #随机签到地址
di_zhi=${arr[$rand]} #随机抽取签到地址
urlString='curl -k -i --raw -o 0.dat -X POST "http://third.linewell.com/rest/tongplatform/projects/mss/v1/worksign/?rnd=0.6147708580632094" -H "Host: third.linewell.com" -H "Connection: keep-alive" -H "base-params: {\"clientParams\":{\"os\":\"H5\",\"network\":\"\",\"deviceId\":\"H5\",\"appVersion\":\"\"},\"areaCode\":\"350500\",\"appId\":\"1c7e75c2353042f19c121b27c3d6803d\",\"loginTerminal\":2}" -H "Accept: application/json, text/plain, */*" -H "User-Agent: Mozilla/5.0 (Linux; Android 11; M2007J1SC Build/RKQ1.200826.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/86.0.4240.185 Mobile Safari/537.36 innoApp/deviceType=Android&T=1c7e75c2353042f19c121b27c3d6803d&deviceId=00000000-69e5-7ad1-ffff-ffffef05ac4a&token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dpblRpbWUiOjE2MTIzMjAxODA1NDQsImV4cGlyZVRpbWUiOjE2MjA5NjAxODA1NDQsInBob25lIjoiMTgzNTk1NTA5NTgiLCJpZGVudGl0eVR5cGUiOm51bGwsImFwcElkIjoiMWM3ZTc1YzIzNTMwNDJmMTljMTIxYjI3YzNkNjgwM2QiLCJvc3R5cGUiOiJhbmRyb2lkIiwidXNlclR5cGUiOjEsInVzZXJJZCI6IjdGREVFNjA5MEMzMEJFQkQ2MDhDQjlGN0FFQUQ5ODA0IiwiZGV2aWNlSWQiOiIwMDAwMDAwMC02OWU1LTdhZDEtZmZmZi1mZmZmZWYwNWFjNGEiLCJhY2NvdW50VXNlcklkIjoiN0ZERUU2MDkwQzMwQkVCRDYwOENCOUY3QUVBRDk4MDQiLCJsb2dpblRlcm1pbmFsIjoxfQ.Z-T5RxN0yrBiYkQ-rERIVuxO3G_vaqFrnt25O12DzGCkBp2AJRCsxCRRO2T1kockqh_0izEmKd96k_gYKOzwzKMA4LDamOz53KpYigcGa2MzWqRkm2RnTtp8-JiKTwb437J_ssoJJ6cSjS9DBDgm7E0KKvdoX0-pwdGk_0E9MLnnukg3TAdZZsg1j6lXUGGx6V2B8dEgfoLs16G119OnTkGAj7jTLk7kwFJ4WTHRnTzwTdmjuo74aBhSTkjQONF8Yrt9VvypdkhcN2G9i792QNSiDYeNMLU2lab_OhNwdl9p1gd461982wBlXKPoggXu3j6Am2oFNNEL62h7w016NQ" -H "token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dpblRpbWUiOjE2MTIzMjAxODA1NDQsImV4cGlyZVRpbWUiOjE2MjA5NjAxODA1NDQsInBob25lIjoiMTgzNTk1NTA5NTgiLCJpZGVudGl0eVR5cGUiOm51bGwsImFwcElkIjoiMWM3ZTc1YzIzNTMwNDJmMTljMTIxYjI3YzNkNjgwM2QiLCJvc3R5cGUiOiJhbmRyb2lkIiwidXNlclR5cGUiOjEsInVzZXJJZCI6IjdGREVFNjA5MEMzMEJFQkQ2MDhDQjlGN0FFQUQ5ODA0IiwiZGV2aWNlSWQiOiIwMDAwMDAwMC02OWU1LTdhZDEtZmZmZi1mZmZmZWYwNWFjNGEiLCJhY2NvdW50VXNlcklkIjoiN0ZERUU2MDkwQzMwQkVCRDYwOENCOUY3QUVBRDk4MDQiLCJsb2dpblRlcm1pbmFsIjoxfQ.Z-T5RxN0yrBiYkQ-rERIVuxO3G_vaqFrnt25O12DzGCkBp2AJRCsxCRRO2T1kockqh_0izEmKd96k_gYKOzwzKMA4LDamOz53KpYigcGa2MzWqRkm2RnTtp8-JiKTwb437J_ssoJJ6cSjS9DBDgm7E0KKvdoX0-pwdGk_0E9MLnnukg3TAdZZsg1j6lXUGGx6V2B8dEgfoLs16G119OnTkGAj7jTLk7kwFJ4WTHRnTzwTdmjuo74aBhSTkjQONF8Yrt9VvypdkhcN2G9i792QNSiDYeNMLU2lab_OhNwdl9p1gd461982wBlXKPoggXu3j6Am2oFNNEL62h7w016NQ" -H "Content-Type: application/json" -H "Origin: http://third.linewell.com" -H "X-Requested-With: com.linewell.ilw" -H "Referer: http://third.linewell.com/clock-in/check?deviceType=Android&T=1c7e75c2353042f19c121b27c3d6803d" -H "Accept-Encoding: gzip, deflate" -H "Accept-Language: zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7" -H "Cookie: H5_APP_ID=1c7e75c2353042f19c121b27c3d6803d; AREA_CODE=350500; token_h5=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2dpblRpbWUiOjE2MTIzMjAxODA1NDQsImV4cGlyZVRpbWUiOjE2MjA5NjAxODA1NDQsInBob25lIjoiMTgzNTk1NTA5NTgiLCJpZGVudGl0eVR5cGUiOm51bGwsImFwcElkIjoiMWM3ZTc1YzIzNTMwNDJmMTljMTIxYjI3YzNkNjgwM2QiLCJvc3R5cGUiOiJhbmRyb2lkIiwidXNlclR5cGUiOjEsInVzZXJJZCI6IjdGREVFNjA5MEMzMEJFQkQ2MDhDQjlGN0FFQUQ5ODA0IiwiZGV2aWNlSWQiOiIwMDAwMDAwMC02OWU1LTdhZDEtZmZmZi1mZmZmZWYwNWFjNGEiLCJhY2NvdW50VXNlcklkIjoiN0ZERUU2MDkwQzMwQkVCRDYwOENCOUY3QUVBRDk4MDQiLCJsb2dpblRlcm1pbmFsIjoxfQ.Z-T5RxN0yrBiYkQ-rERIVuxO3G_vaqFrnt25O12DzGCkBp2AJRCsxCRRO2T1kockqh_0izEmKd96k_gYKOzwzKMA4LDamOz53KpYigcGa2MzWqRkm2RnTtp8-JiKTwb437J_ssoJJ6cSjS9DBDgm7E0KKvdoX0-pwdGk_0E9MLnnukg3TAdZZsg1j6lXUGGx6V2B8dEgfoLs16G119OnTkGAj7jTLk7kwFJ4WTHRnTzwTdmjuo74aBhSTkjQONF8Yrt9VvypdkhcN2G9i792QNSiDYeNMLU2lab_OhNwdl9p1gd461982wBlXKPoggXu3j6Am2oFNNEL62h7w016NQ" -d "{\"latitude\":24.873lati_tude,\"longitude\":118.636long_tude,\"address\":\"福建省泉州市丰泽区di_zhi\",\"clientInfo\":{\"appPackageName\":\"\",\"appVersion\":\"\",\"browser\":\"\",\"carrierName\":\"\",\"deviceBrand\":\"\",\"deviceId\":\"00000000-69e5-7ad1-ffff-ffffef05ac4a\",\"deviceType\":\"Android\",\"height\":\"\",\"ip\":\"\",\"network\":\"\",\"os\":\"Android\",\"systemVersion\":\"\",\"timeStamp\":time_stamp,\"width\":\"\"}}"'
urlString=${urlString/di_zhi/$di_zhi} #赋值签到地址
urlString=${urlString/lati_tude/$lati_tude} #赋值签到维度
urlString=${urlString/time_stamp/$time_stamp} #赋值时间戳
urlString=${urlString/long_tude/$long_tude} #赋值签到经度
echo $urlString
sh /root/bin/send_message.sh "签到成功！"
sh /root/bin/wx_step.sh
eval $urlString
